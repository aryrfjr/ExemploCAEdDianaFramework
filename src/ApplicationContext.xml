<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<!--

  Spring Framework configuration file.
  Generated by Diana Framework. DO NOT EDIT!!!

-->

<beans>

    <!-- Suporte DAO para o Hibernate -->

    <bean id="ExemploDS" class="org.apache.commons.dbcp.BasicDataSource" destroy-method="close">
        <property name="driverClassName">
            <value>org.postgresql.Driver</value>
        </property>
        <property name="url">
            <value>jdbc:postgresql://10.0.10.148/jornal</value>
        </property>
        <property name="username">
            <value>postgres</value>
        </property>
        <property name="password">
            <value>postgres</value>
        </property>
    </bean>

    <bean id="ExemploSF" class="org.springframework.orm.hibernate3.LocalSessionFactoryBean">
        <property name="dataSource">
            <ref bean="ExemploDS"/>
        </property>
        <property name="hibernateProperties">
            <props>
                <prop key="hibernate.dialect">org.hibernate.dialect.PostgreSQLDialect</prop>
                <prop key="hibernate.show_sql">false</prop>
            </props>
        </property>
        <property name="configurationClass">
            <value>org.hibernate.cfg.AnnotationConfiguration</value>
        </property>
        <property name="configLocation">
            <value>hibernate.cfg.xml</value>
        </property>
    </bean>

    <!-- Transaction manager -->
    <bean id="hibernateTransactionManager" class="org.springframework.orm.hibernate3.HibernateTransactionManager">
        <property name="sessionFactory">
            <ref local="ExemploSF"/>
        </property>
    </bean>

    <!-- DAOs -->

    <bean id="DAONoticia" class="org.dianaframework.model.GenericDAO">
        <property name="sessionFactory">
            <ref bean="ExemploSF"/>
        </property>
        <property name="domainClass">
            <value>br.ufjf.caed.exemplo.model.Noticia</value>
        </property>
    </bean>

    <bean id="DAOJornalista" class="org.dianaframework.model.GenericDAO">
        <property name="sessionFactory">
            <ref bean="ExemploSF"/>
        </property>
        <property name="domainClass">
            <value>br.ufjf.caed.exemplo.model.Jornalista</value>
        </property>
    </bean>

    <!-- Spring Service Locator Pattern support -->

    <!-- Business Service Factory -->
    <bean id="BusinessServiceFactory" class="org.springframework.beans.factory.config.ServiceLocatorFactoryBean">
        <property name="serviceLocatorInterface" value="org.dianaframework.servicelocator.BusinessServiceFactory" />
    </bean> 

    <!-- Business Services -->

    <bean id="ExemploBS" class="br.ufjf.caed.exemplo.ExemploBS" singleton="false">
            <property name="daoNoticia">
            <ref bean="DAONoticia"/>
        </property>

        <property name="daoJornalista">
            <ref bean="DAOJornalista"/>
        </property>

    </bean>

    <!-- Business Services Clients-->

    <bean id="ColecaoNoticiasNaoPublicadas" class="br.ufjf.caed.exemplo.model.ColecaoNoticiasNaoPublicadas" singleton="false">
        <property name="serviceFactory" ref="BusinessServiceFactory" />
    </bean>

    <bean id="ColecaoNoticiasUnico" class="br.ufjf.caed.exemplo.model.ColecaoNoticiasUnico" singleton="false">
        <property name="serviceFactory" ref="BusinessServiceFactory" />
    </bean>

    <bean id="ColecaoNoticias" class="br.ufjf.caed.exemplo.model.ColecaoNoticias" singleton="false">
        <property name="serviceFactory" ref="BusinessServiceFactory" />
    </bean>

    <bean id="ColecaoNoticiasPublicadas" class="br.ufjf.caed.exemplo.model.ColecaoNoticiasPublicadas" singleton="false">
        <property name="serviceFactory" ref="BusinessServiceFactory" />
    </bean>

    <bean id="ColecaoJornalistas" class="br.ufjf.caed.exemplo.model.ColecaoJornalistas" singleton="false">
        <property name="serviceFactory" ref="BusinessServiceFactory" />
    </bean>

    <!-- List models -->

    <!-- Table models -->

    <!-- The XWork IoC has deprecated, using Spring instead -->
    <!-- The beans below are xwork actions too -->

    <bean id="TesteLostFocus" class="br.ufjf.caed.exemplo.action.TesteLostFocus" singleton="false">
        <property name="serviceFactory" ref="BusinessServiceFactory" />
    </bean>

    <bean id="RegistroNoticia" class="br.ufjf.caed.exemplo.action.RegistroNoticia" singleton="false">
        <property name="serviceFactory" ref="BusinessServiceFactory" />
    </bean>

    <bean id="AtualizarNoticiaUnico" class="br.ufjf.caed.exemplo.action.AtualizarNoticiaUnico" singleton="false">
        <property name="serviceFactory" ref="BusinessServiceFactory" />
    </bean>

    <bean id="PreencheNivel2" class="br.ufjf.caed.exemplo.action.PreencheNivel2" singleton="false">
        <property name="serviceFactory" ref="BusinessServiceFactory" />
    </bean>

    <bean id="AlterarNoticiaUnico" class="br.ufjf.caed.exemplo.action.AlterarNoticiaUnico" singleton="false">
        <property name="serviceFactory" ref="BusinessServiceFactory" />
    </bean>

    <bean id="ConsultarNoticia" class="br.ufjf.caed.exemplo.action.ConsultarNoticia" singleton="false">
        <property name="serviceFactory" ref="BusinessServiceFactory" />
    </bean>

    <bean id="Sair" class="br.ufjf.caed.exemplo.action.Sair" singleton="false">
        <property name="serviceFactory" ref="BusinessServiceFactory" />
    </bean>

    <bean id="AdicionarPublicada" class="br.ufjf.caed.exemplo.action.AdicionarPublicada" singleton="false">
        <property name="serviceFactory" ref="BusinessServiceFactory" />
    </bean>

    <bean id="PesquisarNoticias" class="br.ufjf.caed.exemplo.action.PesquisarNoticias" singleton="false">
        <property name="serviceFactory" ref="BusinessServiceFactory" />
    </bean>

    <bean id="InserirNoticiaUnico" class="br.ufjf.caed.exemplo.action.InserirNoticiaUnico" singleton="false">
        <property name="serviceFactory" ref="BusinessServiceFactory" />
    </bean>

    <bean id="RemoverPublicada" class="br.ufjf.caed.exemplo.action.RemoverPublicada" singleton="false">
        <property name="serviceFactory" ref="BusinessServiceFactory" />
    </bean>

    <bean id="TestePreenchimentoCombos" class="br.ufjf.caed.exemplo.action.TestePreenchimentoCombos" singleton="false">
        <property name="serviceFactory" ref="BusinessServiceFactory" />
    </bean>

    <bean id="ExcluirNoticia" class="br.ufjf.caed.exemplo.action.ExcluirNoticia" singleton="false">
        <property name="serviceFactory" ref="BusinessServiceFactory" />
    </bean>

    <bean id="SalvarNoticia" class="br.ufjf.caed.exemplo.action.SalvarNoticia" singleton="false">
        <property name="serviceFactory" ref="BusinessServiceFactory" />
    </bean>

    <bean id="PreencheNivel3" class="br.ufjf.caed.exemplo.action.PreencheNivel3" singleton="false">
        <property name="serviceFactory" ref="BusinessServiceFactory" />
    </bean>

    <bean id="SalvarPublicadas" class="br.ufjf.caed.exemplo.action.SalvarPublicadas" singleton="false">
        <property name="serviceFactory" ref="BusinessServiceFactory" />
    </bean>

    <bean id="FiltrarNoticias" class="br.ufjf.caed.exemplo.action.FiltrarNoticias" singleton="false">
        <property name="serviceFactory" ref="BusinessServiceFactory" />
        <property name="transactionManager" ref="hibernateTransactionManager" />
    </bean>

    <bean id="SalvarNoticiasUnico" class="br.ufjf.caed.exemplo.action.SalvarNoticiasUnico" singleton="false">
        <property name="serviceFactory" ref="BusinessServiceFactory" />
    </bean>

    <bean id="AbaAlterada" class="br.ufjf.caed.exemplo.action.AbaAlterada" singleton="false">
        <property name="serviceFactory" ref="BusinessServiceFactory" />
    </bean>

    <bean id="RemoverNoticiaUnico" class="br.ufjf.caed.exemplo.action.RemoverNoticiaUnico" singleton="false">
        <property name="serviceFactory" ref="BusinessServiceFactory" />
    </bean>

    <bean id="VisualizarNoticia" class="br.ufjf.caed.exemplo.action.VisualizarNoticia" singleton="false">
        <property name="serviceFactory" ref="BusinessServiceFactory" />
    </bean>

</beans>
